{"version":3,"sources":["../../../../src/lib/interactive/FibonacciRetracement.js"],"names":["React","Component","PropTypes","isDefined","isNotDefined","noop","terminate","saveNodeType","isHoverForInteractiveType","EachFibRetracement","MouseLocationIndicator","HoverTextNearMouse","settings","FibonacciRetracement","props","handleStart","bind","handleEnd","handleDrawRetracement","handleEdge1Drag","handleEdge2Drag","handleDrag","handleDragComplete","getSelectionState","nodes","state","xyValue","current","x1","mouseMoved","setState","x2","y2","index","xy","override","echo","newXYValue","origXYValue","retracements","dx","x1Value","y1","x2Value","moreProps","rest","newRetracements","map","each","idx","selected","onComplete","onStart","e","appearance","type","concat","yDisplayFormat","currentPositionStroke","currentPositionOpacity","currentPositionStrokeWidth","currentPositionRadius","enabled","hoverText","overrideIndex","currentRetracement","eachAppearance","propTypes","bool","isRequired","width","number","func","onSelect","oneOf","object","string","array","shape","stroke","strokeWidth","strokeOpacity","fontFamily","fontSize","fontFill","edgeStroke","edgeFill","nsEdgeFill","edgeStrokeWidth","r","defaultProps","enable","bgHeight","bgWidth","text","fontSizeSmall"],"mappings":"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","file":"FibonacciRetracement.js","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { isDefined, isNotDefined, noop } from \"../utils\";\nimport {\n\tterminate,\n\tsaveNodeType,\n\tisHoverForInteractiveType,\n} from \"./utils\";\nimport EachFibRetracement from \"./wrapper/EachFibRetracement\";\nimport MouseLocationIndicator from \"./components/MouseLocationIndicator\";\nimport HoverTextNearMouse from \"./components/HoverTextNearMouse\";\nimport settings from \"../../settings\";\n\nclass FibonacciRetracement extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleStart = this.handleStart.bind(this);\n\t\tthis.handleEnd = this.handleEnd.bind(this);\n\t\tthis.handleDrawRetracement = this.handleDrawRetracement.bind(this);\n\n\t\tthis.handleEdge1Drag = this.handleEdge1Drag.bind(this);\n\t\tthis.handleEdge2Drag = this.handleEdge2Drag.bind(this);\n\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragComplete = this.handleDragComplete.bind(this);\n\n\t\tthis.terminate = terminate.bind(this);\n\t\tthis.getSelectionState = isHoverForInteractiveType(\"retracements\")\n\t\t\t.bind(this);\n\n\t\tthis.saveNodeType = saveNodeType.bind(this);\n\t\tthis.nodes = [];\n\n\t\tthis.state = {\n\t\t};\n\t}\n\thandleDrawRetracement(xyValue) {\n\t\tconst { current } = this.state;\n\t\tif (isDefined(current) && isDefined(current.x1)) {\n\t\t\tthis.mouseMoved = true;\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\t...current,\n\t\t\t\t\tx2: xyValue[0],\n\t\t\t\t\ty2: xyValue[1]\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleDrag(index, xy) {\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\t...xy\n\t\t\t}\n\t\t});\n\t}\n\thandleEdge1Drag(echo, newXYValue, origXYValue) {\n\t\tconst { retracements } = this.props;\n\t\tconst { index } = echo;\n\n\t\tconst dx = origXYValue.x1Value - newXYValue.x1Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: retracements[index].x1 - dx,\n\t\t\t\ty1: retracements[index].y1,\n\t\t\t\tx2: retracements[index].x2,\n\t\t\t\ty2: retracements[index].y2\n\t\t\t}\n\t\t});\n\t}\n\thandleEdge2Drag(echo, newXYValue, origXYValue) {\n\t\tconst { retracements } = this.props;\n\t\tconst { index } = echo;\n\n\t\tconst dx = origXYValue.x2Value - newXYValue.x2Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: retracements[index].x1,\n\t\t\t\ty1: retracements[index].y1,\n\t\t\t\tx2: retracements[index].x2 - dx,\n\t\t\t\ty2: retracements[index].y2\n\t\t\t}\n\t\t});\n\t}\n\thandleDragComplete(moreProps) {\n\t\tconst { retracements } = this.props;\n\t\tconst { override } = this.state;\n\t\tif (isDefined(override)) {\n\t\t\tconst { index, ...rest } = override;\n\n\t\t\tconst newRetracements = retracements.map(\n\t\t\t\t(each, idx) =>\n\t\t\t\t\t(idx === index\n\t\t\t\t\t\t? { ...each, ...rest, selected: true }\n\t\t\t\t\t\t: each)\n\t\t\t);\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\toverride: null,\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tthis.props.onComplete(newRetracements, moreProps);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\thandleStart(xyValue, moreProps) {\n\t\tconst { current } = this.state;\n\t\tif (isNotDefined(current) || isNotDefined(current.x1)) {\n\t\t\tthis.mouseMoved = false;\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tcurrent: {\n\t\t\t\t\t\tx1: xyValue[0],\n\t\t\t\t\t\ty1: xyValue[1],\n\t\t\t\t\t\tx2: null,\n\t\t\t\t\t\ty2: null\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tthis.props.onStart(moreProps);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\thandleEnd(xyValue, moreProps, e) {\n\t\tconst { retracements, appearance, type } = this.props;\n\t\tconst { current } = this.state;\n\n\t\tif (this.mouseMoved && isDefined(current) && isDefined(current.x1)) {\n\t\t\tconst newRetracements = retracements.concat({\n\t\t\t\t...current,\n\t\t\t\tx2: xyValue[0],\n\t\t\t\ty2: xyValue[1],\n\t\t\t\tselected: true,\n\t\t\t\tappearance,\n\t\t\t\ttype,\n\t\t\t});\n\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tcurrent: null,\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tthis.props.onComplete(newRetracements, moreProps, e);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\trender() {\n\t\tconst { current, override } = this.state;\n\t\tconst { retracements } = this.props;\n\n\t\tconst {\n\t\t\tappearance,\n\t\t\ttype,\n\t\t\tyDisplayFormat\n\t\t} = this.props;\n\t\tconst {\n\t\t\tcurrentPositionStroke,\n\t\t\tcurrentPositionOpacity,\n\t\t\tcurrentPositionStrokeWidth,\n\t\t\tcurrentPositionRadius\n\t\t} = this.props;\n\n\t\tconst { enabled, hoverText } = this.props;\n\t\tconst overrideIndex = isDefined(override) ? override.index : null;\n\n\t\tconst currentRetracement = isDefined(current) && isDefined(current.x2)\n\t\t\t? <EachFibRetracement\n\t\t\t\tinteractive={false}\n\t\t\t\ttype={type}\n\t\t\t\tappearance={appearance}\n\t\t\t\thoverText={hoverText}\n\t\t\t\tyDisplayFormat={yDisplayFormat}\n\t\t\t\t{...current}\n\t\t\t/>\n\t\t\t: null;\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t{retracements.map((each, idx) => {\n\t\t\t\t\tconst eachAppearance = isDefined(each.appearance)\n\t\t\t\t\t\t? { ...appearance, ...each.appearance }\n\t\t\t\t\t\t: appearance;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<EachFibRetracement\n\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\tref={this.saveNodeType(idx)}\n\t\t\t\t\t\t\tindex={idx}\n\t\t\t\t\t\t\ttype={each.type}\n\t\t\t\t\t\t\tselected={each.selected}\n\t\t\t\t\t\t\thoverText={hoverText}\n\t\t\t\t\t\t\t{...(idx === overrideIndex ? override : each)}\n\t\t\t\t\t\t\tyDisplayFormat={yDisplayFormat}\n\t\t\t\t\t\t\tappearance={eachAppearance}\n\t\t\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t\t\t\tonDragComplete={this.handleDragComplete}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{currentRetracement}\n\t\t\t\t<MouseLocationIndicator\n\t\t\t\t\tenabled={enabled}\n\t\t\t\t\tsnap={false}\n\t\t\t\t\tr={currentPositionRadius}\n\t\t\t\t\tstroke={currentPositionStroke}\n\t\t\t\t\topacity={currentPositionOpacity}\n\t\t\t\t\tstrokeWidth={currentPositionStrokeWidth}\n\t\t\t\t\tonMouseDown={this.handleStart}\n\t\t\t\t\tonClick={this.handleEnd}\n\t\t\t\t\tonMouseMove={this.handleDrawRetracement}\n\t\t\t\t/>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\n// onClick={this.handleClick}\n\nFibonacciRetracement.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\twidth: PropTypes.number,\n\n\tonStart: PropTypes.func,\n\tonComplete: PropTypes.func,\n\tonSelect: PropTypes.func,\n\n\ttype: PropTypes.oneOf([\n\t\t\"EXTEND\", // extends from -Infinity to +Infinity\n\t\t\"RAY\", // extends to +/-Infinity in one direction\n\t\t\"BOUND\" // extends between the set bounds\n\t]).isRequired,\n\thoverText: PropTypes.object.isRequired,\n\n\tcurrentPositionStroke: PropTypes.string,\n\tcurrentPositionStrokeWidth: PropTypes.number,\n\tcurrentPositionOpacity: PropTypes.number,\n\tcurrentPositionRadius: PropTypes.number,\n\n\tretracements: PropTypes.array.isRequired,\n\tyDisplayFormat: PropTypes.func,\n\n\tappearance: PropTypes.shape({\n\t\tstroke: PropTypes.string.isRequired,\n\t\tstrokeWidth: PropTypes.number.isRequired,\n\t\tstrokeOpacity: PropTypes.number.isRequired,\n\t\tfontFamily: PropTypes.string.isRequired,\n\t\tfontSize: PropTypes.number.isRequired,\n\t\tfontFill: PropTypes.string.isRequired,\n\t\tedgeStroke: PropTypes.string.isRequired,\n\t\tedgeFill: PropTypes.string.isRequired,\n\t\tnsEdgeFill: PropTypes.string.isRequired,\n\t\tedgeStrokeWidth: PropTypes.number.isRequired,\n\t\tr: PropTypes.number.isRequired,\n\t}).isRequired\n};\n\nFibonacciRetracement.defaultProps = {\n\tenabled: true,\n\ttype: \"RAY\",\n\tretracements: [],\n\n\tonStart: noop,\n\tonComplete: noop,\n\tonSelect: noop,\n\n\thoverText: {\n\t\t...HoverTextNearMouse.defaultProps,\n\t\tenable: true,\n\t\tbgHeight: 18,\n\t\tbgWidth: 140,\n\t\ttext: \"Click to select object\"\n\t},\n\tcurrentPositionStroke: \"#000000\",\n\tcurrentPositionOpacity: 1,\n\tcurrentPositionStrokeWidth: 3,\n\tcurrentPositionRadius: 4,\n\tyDisplayFormat: noop,\n\n\tappearance: {\n\t\tstroke: \"#000000\",\n\t\tstrokeWidth: 1,\n\t\tstrokeOpacity: 1,\n\t\tfontFamily: settings.fontFamily,\n\t\tfontSize: settings.fontSizeSmall,\n\t\tfontFill: \"#000000\",\n\t\tedgeStroke: \"#000000\",\n\t\tedgeFill: \"#FFFFFF\",\n\t\tnsEdgeFill: \"#000000\",\n\t\tedgeStrokeWidth: 1,\n\t\tr: 5,\n\t}\n};\n\nexport default FibonacciRetracement;\n"]}